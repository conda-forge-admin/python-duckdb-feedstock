From fe1c131aec15d7fdb5484e57235045b3afbe89b6 Mon Sep 17 00:00:00 2001
From: Gil Forsyth <gil@forsyth.dev>
Date: Wed, 24 Aug 2022 11:41:25 -0400
Subject: [PATCH] [PATCH] fix parsing of stdout for mypy stubs test

---
 tools/pythonpkg/tests/stubs/test_stubs.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/tools/pythonpkg/tests/stubs/test_stubs.py b/tools/pythonpkg/tests/stubs/test_stubs.py
index e397531d7..b91b5cf14 100644
--- a/tools/pythonpkg/tests/stubs/test_stubs.py
+++ b/tools/pythonpkg/tests/stubs/test_stubs.py
@@ -18,7 +18,7 @@ def test_stubs():
 			'--mypy-config-file', MYPY_INI_PATH,
 		], stdout=subprocess.PIPE)
 	if (stubs.returncode != 0):
-		errors = stubs.stdout.decode('utf-8').split('error')
+		errors = stubs.stdout.decode('utf-8').split('Found')[0].split('error')
 		broken_stubs = []
 		for error in errors:
 			add_error = True
@@ -31,4 +31,4 @@ def test_stubs():
 			if len(broken_stubs) > 0:
 				print("Stubs must be updated, either add them to skip_stubs_errors or update __init__.pyi accordingly")
 				print(broken_stubs)
-				assert(0)
\ No newline at end of file
+				assert(0)
-- 
2.37.2

